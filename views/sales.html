<div ng-controller="MainCtrl">
    <div ng-init="checkLogin();"></div>

    <div ng-include="'views/document/customerheader.html'"></div>

    <div ng-include="'views/sidenavs/customermenu.html'"></div>

    <div ng-include="'views/sidenavs/dreambeem.html'"></div>

    <div ng-include="'views/sidenavs/furnybeem.html'"></div>

    <div class="spinner" ng-show="loading">
        <div class="double-bounce1"></div>
        <div class="double-bounce2"></div>
    </div>
</div>

        <md-content class="md-padding" ng-controller="SalesCtrl" ng-init="initSales();">
            <h1><strong>Verkäufe</strong></h1>
            <p>Hier kannst Du Deine Verkäufe einsehen.</p>
            <div layout="row" layout-wrap layout-align="start" flex>
                <div id="purchases" flex="100" flex-md="100" flex-sm="100" flex-xs="100">
                    <div layout="row" layout-wrap flex>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33"><strong>Name</strong></div>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33"><strong>Produktbild</strong></div>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33"><strong>Menge</strong></div>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33"><strong>Gesamtpreis</strong></div>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33"><strong>Gewinn in Euro</strong></div>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33"><strong>Zeit</strong></div>
                    </div>
                    <md-divider style="text-decoration: bolder"></md-divider>
                </div>
            </div>
            <div layout="row" layout-wrap layout-align="start" flex>
                <span class="text-danger" ng-if="salesMessage"><strong>{{salesMessage}}</strong></span>
                <div ng-repeat="sale in sales" flex-xs="100" flex="100" flex-sm="100" flex-md="100" layout="row" layout-wrap flex>
                    <div flex="100" flex-sm="33" flex-md="33" flex-xs="100" layout="row" ng-repeat="s in sale track by $index" flex>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33" layout-wrap>
                            {{s.title}}
                        </div>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33" layout-wrap>
                            <img src="{{s.main_image}}" width="120">
                        </div>
                        <div class="text-center" flex-xs="100" flex="15" flex-sm="33" flex-md="33" layout-wrap>
                            {{s.quantity}}
                        </div>
                        <div class="text-center" ng-if="$index === 0" flex-xs="100" flex="15" flex-sm="33" flex-md="33">
                            <strong class="text-warning">{{sale.sumAll}}</strong>
                        </div>
                        <div class="text-center" ng-if="$index === 0" flex-xs="100" flex="15" flex-sm="33" flex-md="33">
                            <strong class="text-success">{{sale.ownerMarge}}</strong>
                        </div>
                        <div class="text-center" ng-if="$index === 0" flex-xs="100" flex="15" flex-sm="33" flex-md="33">
                            {{sale.cTimestamp}}
                        </div>
                    </div>
                </div>
            </div>
            <div layout="row" layout-wrap layout-align="start" flex>
                <div flex-xs="100" flex="100" flex-sm="100" flex-md="100" layout-wrap flex>
                    <div layout="row" layout-wrap flex>
                        <div class="text-center" flex-xs="100" flex="50" flex-sm="50" flex-md="50"><strong>Umsatz Gesamt</strong></div>
                        <div class="text-center" flex-xs="100" flex="50" flex-sm="50" flex-md="50"><strong>Gewinn Gesamt</strong></div>
                    </div>
                    <md-divider style="text-decoration: bolder"></md-divider>
                    <div layout="row" layout-wrap flex>
                        <div class="text-center text-warning" flex-xs="100" flex="50" flex-sm="50" flex-md="50"><h2><strong>{{sumAllFull}}</strong></h2></div>
                        <div class="text-center text-success" flex-xs="100" flex="50" flex-sm="50" flex-md="50"><h2><strong>{{ownerMargeFull}}</strong></h2></div>
                    </div>
                    <md-divider style="text-decoration: bolder"></md-divider>
                </div>
            </div>
        </div>
    <div layout="row" layout-align="start" flex>
        <span ng-click="exportCSV();"><strong>Als CSV exportieren</strong></span>
    </div>
</md-content>